import path_class
import kaggle_environments.envs.kore_fleets.helpers as kf

def unit_test_pathsegment(board):
    direction = "S"
    start = kf.Point(0, 0)
    length = 5

    seg = path_class.PathSegment(start, direction, length)
    seg_coords = [kf.Point(0, 20), kf.Point(0, 19), kf.Point(0, 18), kf.Point(0, 17), kf.Point(0, 16)]
    coords = seg.unit_test_path(board, start, direction, kf.Point(0, 16), length, seg_coords)
    print(coords)

    direction = "N"
    start = kf.Point(0, 0)
    length = 0

    seg = path_class.PathSegment(start, direction, length)
    seg_coords = [kf.Point(0, 1)]
    coords = seg.unit_test_path(board, start, direction, kf.Point(0, 1), length, seg_coords)
    print(coords)

    direction = "N"
    start = kf.Point(0, 0)
    length = 1

    seg = path_class.PathSegment(start, direction, length)
    seg_coords = [kf.Point(0, 1)]
    coords = seg.unit_test_path(board, start, direction, kf.Point(0, 1), length, seg_coords)
    print(coords)

    direction = "E"
    start = kf.Point(0, 0)
    length = 0

    seg = path_class.PathSegment(start, direction, length)
    seg_coords = [kf.Point(1, 0)]
    coords = seg.unit_test_path(board, start, direction, kf.Point(1, 0), length, seg_coords)
    print(coords)

    direction = "E"
    start = kf.Point(0, 0)
    length = 1

    seg = path_class.PathSegment(start, direction, length)
    seg_coords = [kf.Point(1, 0)]
    coords = seg.unit_test_path(board, start, direction, kf.Point(1, 0), length, seg_coords)
    print(coords)

    direction = "W"
    start = kf.Point(0, 0)
    length = 1

    seg = path_class.PathSegment(start, direction, length)
    seg_coords = [kf.Point(20, 0)]
    coords = seg.unit_test_path(board, start, direction, kf.Point(20, 0), length, seg_coords)
    print(coords)

    direction = "W"
    start = kf.Point(0, 0)
    length = 5

    seg = path_class.PathSegment(start, direction, length)
    seg_coords = [kf.Point(20, 0), kf.Point(19, 0), kf.Point(18, 0), kf.Point(17, 0), kf.Point(16, 0)]
    coords = seg.unit_test_path(board, start, direction, kf.Point(16, 0), length, seg_coords)
    print(coords)

    direction = "W"
    start = kf.Point(15, 5)
    length = 5

    seg = path_class.PathSegment(start, direction, length)
    seg_coords = [kf.Point(14, 5), kf.Point(13, 5), kf.Point(12, 5), kf.Point(11, 5), kf.Point(10, 5)]
    coords = seg.unit_test_path(board, start, direction, kf.Point(10, 5), length, seg_coords)
    print(coords)


    print("PathSegment test done")
    exit()

def unit_test_path(board):

    direction = "W"
    start = kf.Point(15, 5)
    length = 5
    seg1 = path_class.PathSegment(start, direction, length)

    direction = "S"
    start = kf.Point(10, 5)
    length = 5
    seg2 = path_class.PathSegment(start, direction, length)

    path = path_class.Path([seg1, seg2])

    coords = seg1.get_path_coords(board) + seg2.get_path_coords(board)

    path.unit_test(board, coords)

    exit()

special_board = {'kore': [475.134,
                          0.0,
                          0.0,
                          508.581,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          239.343,
                          0.0,
                          504.588,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          484.349,
                          0.0,
                          0.0,
                          460.692,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          192.622,
                          109.284,
                          49.384,
                          413.621,
                          121.171,
                          304.126,
                          501.857,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          485.61,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          137.049,
                          0,
                          0.0,
                          0.0,
                          508.153,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          487.001,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          202.698,
                          3.213,
                          0.0,
                          0,
                          108.45,
                          0.0,
                          0.0,
                          79.339,
                          297.083,
                          0.0,
                          58.082,
                          266.128,
                          360.879,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          2.146,
                          0,
                          7.455,
                          0.565,
                          3.513,
                          9.253,
                          0.0,
                          51.451,
                          112.838,
                          128.722,
                          245.673,
                          329.381,
                          346.303,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          10.064,
                          182.172,
                          242.109,
                          251.654,
                          71.795,
                          0.0,
                          0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          501.418,
                          0.0,
                          0.0,
                          296.975,
                          0.0,
                          51.418,
                          110.981,
                          95.907,
                          84.456,
                          0.0,
                          228.75799999999995,
                          124.56300000000002,
                          340.707,
                          44.112,
                          170.297,
                          190.384,
                          0.0,
                          0.0,
                          500.076,
                          0.0,
                          0.0,
                          379.702,
                          0.0,
                          91.891,
                          298.62,
                          0.0,
                          0.0,
                          0,
                          84.621,
                          154.125,
                          147.80200000000002,
                          427.623,
                          244.457,
                          0.0,
                          0.0,
                          0.0,
                          211.909,
                          62.359,
                          0.0,
                          441.24399999999997,
                          0,
                          571.8915,
                          82.063,
                          452.164,
                          0.0,
                          248.22199999999998,
                          0.0,
                          0.0,
                          0.0,
                          452.001,
                          0.0,
                          438.243,
                          0.0,
                          280.31,
                          0.0,
                          0.0,
                          0.0,
                          353.637,
                          0.0,
                          504.607,
                          122.823,
                          311.403,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          12.398,
                          257.174,
                          41.524,
                          0.0,
                          502.262,
                          239.857,
                          503.748,
                          0.0,
                          9.161,
                          85.198,
                          17.019,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          360.804,
                          57.789,
                          420.358,
                          0.0,
                          504.564,
                          0.0,
                          0.0,
                          0.0,
                          340.891,
                          0.0,
                          426.922,
                          0.0,
                          125.858,
                          0.0,
                          0.0,
                          0.0,
                          182.225,
                          0.0,
                          176.882,
                          29.057,
                          98.524,
                          0.0,
                          81.414,
                          0.0,
                          146.993,
                          503.585,
                          0.0,
                          0.0,
                          0.0,
                          173.357,
                          102.348,
                          51.086,
                          134.631,
                          14.02,
                          0,
                          0.0,
                          0.0,
                          82.831,
                          0,
                          0.0,
                          36.135,
                          0.0,
                          0.0,
                          359.156,
                          0,
                          0.0,
                          505.317,
                          0.0,
                          125.645,
                          422.548,
                          198.451,
                          154.865,
                          0.0,
                          252.273,
                          72.726,
                          95.326,
                          56.838,
                          0.0,
                          246.052,
                          0.0,
                          0.0,
                          373.032,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          161.188,
                          32.912,
                          129.689,
                          110.43999999999997,
                          236.252,
                          3.211,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          300.608,
                          483.019,
                          302.913,
                          27.586,
                          40.462,
                          14.92,
                          0.0,
                          49.521,
                          5.573,
                          1.24,
                          7.372,
                          0,
                          0.526,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          462.322,
                          300.784,
                          0.0,
                          0.0,
                          100.219,
                          0,
                          0.0,
                          0.0,
                          333.92,
                          0.0,
                          0.0,
                          11.031,
                          312.541,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          501.059,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          278.337,
                          0.0,
                          0.0,
                          0.0,
                          509.541,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          501.757,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          497.591,
                          178.124,
                          29.008000000000003,
                          303.319,
                          84.061,
                          138.217,
                          311.854,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          426.348,
                          0.0,
                          0.0,
                          501.262,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          266.756,
                          0.0,
                          507.296,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          0.0,
                          355.623,
                          0.0,
                          0.0,
                          371.684],
                 'players': [[1275.87275,
                              {'0-1': [110, 25, 252], '202-1': [175, 18, 50], '243-5': [140, 37, 10]},
                              {'238-1': [196, 353.22900000000004, 9, 0, ''],
                               '241-1': [105, 345.497, 5, 2, '3W'],
                               '242-1': [124, 176.59000000000003, 1, 1, '1S'],
                               '244-1': [178, 292.65000000000003, 23, 0, 'W'],
                               '245-1': [158, 96.518, 18, 1, '3SW'],
                               '247-1': [159, 130.014, 20, 1, 'SW'],
                               '248-1': [193, 41.933, 18, 3, 'N3E'],
                               '249-1': [259, 13.795, 103, 2, 'E'],
                               '250-1': [134, 40.477000000000004, 36, 0, '1EN']}],
                             [4346.138750000004,
                              {'0-2': [330, 9, 252],
                               '113-1': [265, 44, 139],
                               '158-2': [269, 15, 94],
                               '208-4': [345, 5, 45],
                               '238-2': [72, 4, 15],
                               '240-6': [275, 21, 12],
                               '243-4': [91, 11, 10],
                               '251-2': [188, 119, 2]},
                              {'237-3': [311, 125.661, 8, 0, ''],
                               '242-2': [305, 244.086, 26, 1, '4S'],
                               '243-2': [304, 312.39549999999997, 17, 1, '5S'],
                               '244-3': [408, 398.01199999999994, 28, 0, ''],
                               '245-2': [182, 39.211, 97, 0, ''],
                               '247-2': [98, 91.47999999999999, 2, 2, ''],
                               '248-3': [273, 75.782, 20, 1, '4NW'],
                               '249-2': [321, 67.46000000000001, 20, 3, '2SE'],
                               '250-2': [292, 65.719, 20, 1, '6NW'],
                               '251-1': [387, 179.48, 23, 2, ''],
                               '252-1': [329, 1.733, 45, 3, 'N'],
                               '252-2': [71, 15.903, 8, 3, 'E'],
                               '252-3': [187, 51.201, 8, 3, 'E']}]],
                 'player': 1,
                 'step': 252,
                 'remainingOverageTime': 60}